<!DOCTYPE html>
<html>
<head>
<title>Macrophylla</title>
</head>

<body>
    <div>
        <img src="https://i.ibb.co/nbsSqkq/I.jpg"  id="server-icon"/>
        <div>
            <h1 id="server-ip">model-punk.gl.joinmc.link</h1>
            <span id="motd">§d[Excited to play together w/ all my friends]§r\n§5♡ OP §6Zeleresia§5 | §9KeoImanuel</span>
            <div><span id="player-count"></span> Players Online</div>
        </div>
    </div>
  <script>
    function initServerData(serverIp,serverPort){
        const serverIpElement = document.getElementById('server-ip');
        serverIpElement.innerHTML = serverIp;
        fetch('https://mcapi.us/server/status?ip='+serverIp+'&port='+serverPort)
        .then(response => response.json())
        .then(data => handleServerStatus(data));
  
        function handleServerStatus(data){
            if(data.status=='error'){
                console.log(data.error);
                return false;
            }
            const motd = document.getElementById("motd");
            motd.innerHTML = data.motd;

            const playerCounter = document.getElementById("player-count");
            playerCounter.innerHTML = data.players.now;

            const logo = document.getElementById("server-icon");
            logo.src = data.favicon;
        } 
    }

    initServerData("model-punk.gl.joinmc.link","25565");
</script>
</body>

</html>
